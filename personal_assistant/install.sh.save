#!/bin/bash

clear

#Setup
USERNAME_FILE="username.file"
LOGS_FOLDER="logs"
UNINSTALL_SCRIPT_NAME="uninstall.sh"

#validations
if [[ -e $USERNAME_FILE ]]
then
	echo "The application is already installed"
	sleep 2
	exit 0
fi

read -p "Please enter your name: " USERNAME

if [ -z $USERNAME ]
then
	echo "This username is not valid, installer exiting..."
	sleep 2
	exit 0
fi

if [ -d $LOGS_FOLDER ]
then
	echo "The logs directory already exists, cannot install the application here"
	sleep 2
	exit 0
fi

#Logic
echo $USERNAME > $USERNAME_FILE
mkdir $LOGS_FOLDER

if ! [ -x $UNINSTALL_SCRIPT_NAME ]
then
	 chmod u+x $UNINSTALL_SCRIPT_NAME
fi


